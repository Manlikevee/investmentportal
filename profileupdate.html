<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Investment Portal</title>
    <link rel="stylesheet" href="style.css">
    
</head>
<body>



    <header>
        <div class="container">
            <div class="loginlinks">
                <div class="logo">
                    <a href="index.html"><img src="img/ProduqtEdge Logo.png" alt=""></a>   
                </div>
                <div class="links">
                    <a href="dashboard.html" >Dashboard</a>
                    <a href="investment.html" >Investment</a>
                    <a href="">Support</a>

                </div>

                <a href="profile.html" class="avatar">
                    <div class="uname" id="uname">Oluwatosin Ajayi
                       
                            <small>User Account</small>
                        
                    </div>
                    <div class="avatarimg">
                        <img src="img/christopher-campbell-rDEOVtE7vOs-unsplash.jpg" alt=""></div>
                </a>
            </div>
        </div>
    </header>


    <div class="container mydashboard">
 
<br>
<div class="startinv">
 
<div class="investmentform">


    <div class="formheader">Update Your Profile</div>
    <div class="formbody">

        <p class="ptitle">
            Take control of your profile by ensuring it's up-to-date. Enhance your experience and opportunities by providing accurate and relevant information.
        </p>

        <div class="formflex">
            <div class="inputblock">
                <label for="first_name">First Name</label>
                <input type="text" id="first_name" name="first_name">
            </div>
        
            <div class="inputblock">
                <label for="last_name">Last Name</label>
                <input type="text" id="last_name" name="last_name">
            </div>
        </div>
        
        <div class="formflex">
            <div class="inputblock">
                <label for="middle_name">Middle Name</label>
                <input type="text" id="middle_name" name="middle_name">
            </div>
        
            <div class="inputblock">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" readonly>
            </div>
        </div>
        
        <div class="formflex">
            <div class="inputblock">
                <label for="phone_number">Phone Number</label>
                <input type="tel" id="phone_number" name="phone_number">
            </div>
        
            <div class="inputblock">
                <label for="next_of_kin_name">Next of Kin Name</label>
                <input type="text" id="next_of_kin_name" name="next_of_kin_name">
            </div>
        </div>
        
        <div class="formflex">
            <div class="inputblock">
                <label for="next_of_kin_email">Next of Kin Email</label>
                <input type="email" id="next_of_kin_email" name="next_of_kin_email">
            </div>
        
            <div class="inputblock">
                <label for="next_of_kin_phone">Next of Kin Phone</label>
                <input type="tel" id="next_of_kin_phone" name="next_of_kin_phone">
            </div>
        </div>
        
        <div class="formflex">
            <div class="inputblock">
                <label for="country">Country</label>
               <select name="Country" id="country">
               <optgroup label="Select Country">
                <option value="Nigeria">Nigeria</option>
                <option value="Angola">Angola</option>
                <option value="Ghana">Ghana</option>
                <option value="Niger">Niger</option>
                <option value="Algeria">Algeria</option>
               </optgroup>
               </select>
            </div>
        
            <div class="inputblock">
                <label for="city">City</label>
              <select name="City" id="city">
                <option selected> City</option>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Adamawa">
                    <option value="Jimeta">Jimeta</option>
                    <option value="Mubi">Mubi</option>
                    <option value="Numan">Numan</option>
                    <option value="Yola">Yola</option>
                </optgroup>
                <optgroup label="Akwa Ibom">
                    <option value="Ikot Abasi">Ikot Abasi</option>
                    <option value="Ikot Ekene">Ikot Ekene</option>
                    <option value="Oron">Oron</option>
                    <option value="Uyp">Uyo</option>
                </optgroup>
                <optgroup label="Anambra">
                    <option value="Awka">Awka</option>
                    <option value="Onitsha">Onitsha</option>
                   
                </optgroup>
                <optgroup label="Bauchi">
                    <option value="Azare">Azare</option>
                    <option value="Bauchi">Bauchi</option>
                    <option value="Jama′are">Jama′are</option>
                    <option value="Katagum">Katagum</option>
                    <option value="Misau">Misau</option>
                </optgroup>
                <optgroup label="Bayelsa">
                    <option value="Brass">Brass</option>
                </optgroup>
                <optgroup label="Benue">
                    <option value="Makurdi">Makurdi</option>
                </optgroup>

                <optgroup label="Borno">
                    <option value="Biu">Biu</option>
                    <option value="Dakwa">Dakwa</option>
                    <option value="Maiduguri">Maiduguri</option>
                </optgroup>
                <optgroup label="Cross River">
                    <option value="Calabar">Calabar</option>
                    <option value="Ogoja">Ogoja</option>
                   
                </optgroup>
                <optgroup label="Delta">
                    <option value="Asaba">Asaba</option>
                    <option value="Burutu">Burutu</option>
                    <option value="Koko">Koko</option>
                        <option value="Sapele">Sapele</option> 
                        <option value="Ughelli">Ughelli</option>
                        <option value="Warri">Warri</option>    
                </optgroup>
                <optgroup label="Ebonyi">
                    <option value="Abakaliki">Abakaliki</option>
                </optgroup>
                <optgroup label="Edo">
                    <option value="Benin City">Benin City</option>
                  
                </optgroup>
                <optgroup label="Ekiti">
                    <option value="Ado-Ekiti">Ado-Ekiti</option>
                    <option value="Effon-Alaiye">Effon-Alaiye</option>
                    <option value="Ikere-Ekiti">Ikere-Ekiti</option>
                </optgroup>
                <optgroup label="Enugu">
                    <option value="Enugu">Enugu</option>
                    <option value="Nsukka">Nsukka</option>
                   
                </optgroup>

                <optgroup label="Federal Capital territory">
                    <option value="Abuja">Abuja</option>
                </optgroup>
                <optgroup label="Gombe">
                    <option value=" Deba Habe">Deba Habe</option>
                    <option value="Gombe">Gombe</option>
                    <option value="Kumo">Kumo</option>
                </optgroup>
                <optgroup label="Imo">
                    <option value="Owerri">Owerri</option>
                </optgroup>
                <optgroup label="Jigawa">
                    <option value="Birnin Kudu">Aba</option>
                    <option value="Dutse">Arochukwu</option>
                    <option value="Gumel">Umuahia</option>
                    <option value="Hadeija">Umuahia</option>
                    <option value="Kazaure">Umuahia</option>
                </optgroup>
                <optgroup label="Kaduna">
                    <option value="Jemaa">Aba</option>
                    <option value="Kaduna">Arochukwu</option>
                    <option value="Zaria">Umuahia</option>
                </optgroup>
                <optgroup label="Kano">
                   <option value="Kano">Arochukwu</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>
                <optgroup label="Abia">
                    <option value="Aba">Aba</option>
                    <option value="Arochukwu">Arochukwu</option>
                    <option value="Umuahia">Umuahia</option>
                </optgroup>

              </select>
            </div>
        </div>
        
        <div class="formflex">
            <div class="inputblock">
                <label for="state">State</label>
                <select name="State" id="state">
                    <option selected> State of Origin</option>
                    <option value="Abia">Abia</option>
                    <option value="Adamawa">Adamawa</option>
                    <option value="AkwaIbom">AkwaIbom</option>
                    <option value="Anambra">Anambra</option>
                    <option value="Bauchi">Bauchi</option>
                    <option value="Bayelsa">Bayelsa</option>
                    <option value="Benue">Benue</option>
                    <option value="Borno">Borno</option>
                    <option value="Cross River">Cross River</option>
                    <option value="Delta">Delta</option>
                    <option value="Ebonyi">Ebonyi</option>
                    <option value="Edo">Edo</option>
                    <option value="Ekiti">Ekiti</option>
                    <option value="Enugu">Enugu</option>
                    <option value="FCT">FCT</option>
                    <option value="Gombe">Gombe</option>
                    <option value="Imo">Imo</option>
                    <option value="Jigawa">Jigawa</option>
                    <option value="Kaduna">Kaduna</option>
                    <option value="Kano">Kano</option>
                    <option value="Katsina">Katsina</option>
                    <option value="Kebbi">Kebbi</option>
                    <option value="Kogi">Kogi</option>
                    <option value="Kwara">Kwara</option>
                    <option value="Lagos">Lagos</option>
                    <option value="Nasarawa">Nasarawa</option>
                    <option value="Niger">Niger</option>
                    <option value="Ogun">Ogun</option>
                    <option value="Ondo">Ondo</option>
                    <option value="Osun">Osun</option>
                    <option value="Oyo">Oyo</option>
                    <option value="Plateau">Plateau</option>
                    <option value="Rivers">Rivers</option>
                    <option value="Sokoto">Sokoto</option>
                    <option value="Taraba">Taraba</option>
                    <option value="Yobe">Yobe</option>
                    <option value="Zamfara">Zamafara</option>
                </select>
            </div>
        
         
                <div class="inputblock">
                    <label for="gender">Gender</label>
                    <select id="gender" name="gender">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>


        </div>
        
        <div class="formflex">
            <div class="inputblock">
            <label for="address">Address</label>
        <textarea name="" id="address" cols="30" rows="10"></textarea>
        </div>
        </div>
        
<div class="formflex">
    <button onclick="submitform()">Proceed</button>
</div>
       <a href="profile.html">what next page should look like ?</a>
    </div>
</div>
</div>


    </div>



<!-- investments list is here -->


    <script>
let Ppofile = [

]
const activeid = localStorage.getItem('activeuserid')

let myprofilearray=''

myprofilearray =  localStorage.getItem('profiles');
     
     if (myprofilearray) {
        Ppofile = JSON.parse(myprofilearray);
     } 



        let myuserarray=''
             let users = [
     
     ]
     
     
      myuserarray =  localStorage.getItem('User details');
     
     if (myuserarray) {
         users = JSON.parse(myuserarray);
     } 
     

function autofill(){
 
        console.log(activeid)

        
        
            const found = users.find(detail => detail.id == activeid );

        if (found) {
            document.getElementById('email').value =  found.mail
            console.log(found)
        }
       
     
}autofill()


     function submitform()
     {

        const found = users.find(detail => detail.id == activeid );

if (found) {
    document.getElementById('email').value =  found.mail
    console.log(found)
}

        let userid = found.id
   const firstname = document.getElementById('first_name').value;
   const lastname = document.getElementById('last_name').value;
   const mname = document.getElementById('middle_name').value;
   const pnum = document.getElementById('phone_number').value;
   const name_kin = document.getElementById('next_of_kin_name').value; 
   const phone_kin = document.getElementById('next_of_kin_phone').value; 
   const country = document.getElementById('country').value; 
   const city = document.getElementById('city').value; 
   const state = document.getElementById('state').value; 
   const gender = document.getElementById('gender').value; 
   const address = document.getElementById('address').value; 
   let status = 'true'
    

  const userprofile = {
    userid : userid, //the one on the rhs is the variable name
    firstname : firstname,
    lastname : lastname,
    middlename : mname,
    phone_number : pnum,
    Name_of_kin : name_kin,
    Pnumber_of_kin : phone_kin,
    Country : country,
    City : city,
    State : state,
    Gender : gender,
    Address : address,
    Profile_updated : status
  }
   
  const find = Ppofile.find(detail => detail.firstname === firstname );
  Ppofile.push(userprofile)

prfilestringify = JSON.stringify(Ppofile);
  localStorage.setItem('profiles', prfilestringify);
  if (firstname && lastname && mname && pnum && name_kin && phone_kin && country && city && state && gender && address) {
    alert('Filled fields stored');
    let status = 'true';
    window.location.href = 'investment.html';
   
  } else {
    
  }
 showpopup()
     }
 
     function showinvestmentslists() {
    const investmentlistmodal = document.getElementById('myoverlay')

    investmentlistmodal.classList.toggle('showlist')

}

function showpopup(){

    let status = 'false'
    
    if (myprofilearray) {
        Ppofile = JSON.parse(myprofilearray);
        status = Ppofile.Profile_updated
     } 


    const popup = `
    <div class="loading-over2" style="display: block;">
    <div class="popup">
        <p id="close2"></p>
        <br>
    <div class="secoact">
    <div class="logoac">
    <img src="img/upd.png" alt="" style="height: 100px; width: 100%; object-fit: contain;">
    </div>


    <div class="logomen"> Kindly Update Your Profile </div>


    <div class="logobod">

    You have not yet updated your profile. Please take the necessary steps to provide the required information.

    </div>
    <div class="logobtn">

                <a href="profileupdate.html" type="button"  class="arwbtn"> Proceed </a>

    </div>
    </div>
    </div>
    </div>
    ` 
    if (status == 'false'){
        document.body.innerHTML += popup;

    } else{
        console.log(status)
    }
}


function custompopup(){
// coming soon
}
     
         </script>
         
         
</body>
</html>